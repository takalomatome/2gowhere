(async function(){const mod=await import("./live-api.module.min.js");window.LiveAPI=mod})();function startSlideshow(){if(window.__slideshow_started){console.log("Slideshow already started, skipping");return}window.__slideshow_started=true;if(window.__slideshow_timer){clearInterval(window.__slideshow_timer)}const container=document.querySelector('.slideshow')||document.body;let nodes=Array.from(container.querySelectorAll('.slide'));if(!nodes.length){console.log("No slides found");return}const seen=new Set;const sources=[];nodes.forEach(n=>{const src=n.getAttribute('src');if(!src)return;let key=src;try{key=new URL(src,window.location.href).href.toLowerCase()}catch(e){}if(!seen.has(key)){seen.add(key);sources.push({src:src,alt:n.getAttribute('alt')||'',brighten:n.classList.contains('brighten')})}});container.innerHTML='';sources.forEach((o,i)=>{const img=document.createElement('img');img.src=o.src;img.alt=o.alt||('Slide '+(i+1));img.className='slide'+(o.brighten?' brighten':'');img.style.opacity='0';container.appendChild(img)});let slides=Array.from(container.querySelectorAll('.slide'));console.log('Starting slideshow with '+slides.length+' unique slides');slides.forEach((s,i)=>console.log('Slide '+i+': '+s.src));if(!slides.length)return;let cur=0;slides.forEach(s=>s.classList.remove('active'));slides[0].classList.add('active');window.__slideshow_timer=setInterval(()=>{if(!slides.length)return;slides[cur].classList.remove('active');cur=(cur+1)%slides.length;slides[cur].classList.add('active');console.log('Now showing slide '+cur)},6000)}window.addEventListener("DOMContentLoaded",()=>{console.log("DOM loaded, starting slideshow");setTimeout(()=>{startSlideshow()},100)});
